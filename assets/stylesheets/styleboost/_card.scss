@use "styleboost/utilities/functions";
@use "styleboost/utilities/properties";
@use "content_columns";

@layer defaults {

	$accent: functions.themePropertyVar('color', 'accent', 'card');
	$bg: functions.themePropertyVar('color', 'bg', 'card');
	$bg_text: functions.themePropertyVar('color', 'bg-text', 'card');
	$accent_rgba: functions.themePropertyVar('color', 'accent-rgb', 'card');
	$subtle: functions.themePropertyVar('color', 'subtle', 'card');

	:root {
		--card-border-width: 1px;
		--card-border-style: solid;
		--card-spacer-x: 1rem;
		--card-spacer-y: 0.5rem;
		--card-body-spacer-y: 1rem;
	}

	.card {
		--cp-card-color-decoration-bg: #{properties.decoratedBackgroundColor('card')};
		--cp-card-inner-border-width: var(--card-inner-border-width, var(--card-border-width));
		--cp-card-color-border: #{properties.borderColor('card')};
		--cp-card-color-bg: #{properties.backgroundColor('card')};
		--cp-card-color-text: #{properties.textColor('card')};
		--cp-card-width-border: #{properties.borderWidth('card')};
		--cp-card-width-border-inner: var(--card-width-border-inner, var(--cp-card-width-border));

		display: flex;
		flex-direction: column;
		position: relative;
		word-wrap: break-word;

		color: var(--cp-card-color-text);
		background-color: var(--cp-card-color-bg);
		border-color: var(--cp-card-color-border);
		border-radius: var(--card-radius, var(--radius-sm));
		border-width: var(--cp-card-width-border);
		border-style: var(--card-border-style);

		&-footer,
		&-header {
			display: flex;
			justify-content: space-between;
			gap: 1rem;

			> * {
				margin-top: 0;
				margin-bottom: 0;
				align-self: center;
			}
		}

		&-header {
			margin-bottom: 0;
			border-bottom: var(--cp-card-width-border-inner) var(--card-border-style) var(--cp-card-color-border);
			padding: var(--card-header-spacer-y, var(--card-spacer-y)) var(--card-header-spacer-x, var(--card-spacer-x));
			background-color: var(--card-color-header-bg, var(--cp-card-color-decoration-bg));
		}

		&-footer {
			margin-top: 0;
			border-top: var(--cp-card-width-border-inner) var(--card-border-style) var(--cp-card-color-border);
			padding: var(--card-footer-spacer-y, var(--card-spacer-y)) var(--card-footer-spacer-x, var(--card-spacer-x));
			background-color: var(--card-color-footer-bg, var(--cp-card-color-decoration-bg));
		}

		&-body {
			flex: 1 1 auto;
			padding: var(--card-body-spacer-y) 0;

			@extend .content-columns;
			--content-column-name: feature;
			--content-column-padding: var(--card-spacer-x);
		}
	}
}